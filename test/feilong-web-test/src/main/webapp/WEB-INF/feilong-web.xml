<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.5"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">

	<!-- ***************************加载 applicationContext.xml**************************************** -->

	<!--
		<context-param>
		<param-name>contextConfigLocation</param-name>
		<param-value>classpath:applicationContext.xml</param-value>
		</context-param>
		<listener>
		<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
		</listener>
	-->
	<!-- ***************************OpenSessionInView**************************************** -->
	<!--
		<filter>
		<filter-name>hibernateFilter</filter-name>
		<filter-class>org.springframework.orm.hibernate3.support.OpenSessionInViewFilter</filter-class>
		<init-param>
		<param-name>sessionFactoryBeanName</param-name>
		<param-value>sessionFactory</param-value>
		</init-param>
		</filter>
		<filter-mapping>
		<filter-name>hibernateFilter</filter-name>
		<url-pattern>*.do</url-pattern>
		</filter-mapping>
		<filter-mapping>
		<filter-name>hibernateFilter</filter-name>
		<url-pattern>/dwr/*</url-pattern>
		</filter-mapping>
		<filter-mapping>
		<filter-name>hibernateFilter</filter-name>
		<url-pattern>/*</url-pattern>
		</filter-mapping>
	-->
	<!--*************************** struts***************************-->
	<!--
		<servlet>
		<servlet-name>action</servlet-name>
		<servlet-class>org.apache.struts.action.ActionServlet</servlet-class>
		<init-param>
		<param-name>config</param-name>
		<param-value>/WEB-INF/struts-config.xml</param-value>
		</init-param>
		<init-param>
		<param-name>debug</param-name>
		<param-value>3</param-value>
		</init-param>
		<init-param>
		<param-name>detail</param-name>
		<param-value>3</param-value>
		</init-param>
		
		<init-param>
		<param-name>convertNull</param-name>
		<param-value>true</param-value>
		</init-param>
		<load-on-startup>0</load-on-startup>
		</servlet>
		<servlet-mapping>
		<servlet-name>action</servlet-name>
		<url-pattern>*.do</url-pattern>
		</servlet-mapping>
	-->
	<!--***************************过滤器***************************-->

	<!-- 全局中文过滤器 -->
	<filter>
		<filter-name>chineseFilter</filter-name>
		<filter-class>com.feilong.filter.ChineseFilter</filter-class>
	</filter>

	<filter-mapping>
		<filter-name>chineseFilter</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>
	<filter-mapping>
		<filter-name>chineseFilter</filter-name>
		<url-pattern>*.do</url-pattern>
	</filter-mapping>


	<!-- 水印过滤器  
		<filter>
		<filter-name>waterMarkFilter</filter-name>
		<filter-class>com.***.filter.WaterMarkFilter</filter-class>
		</filter>
		<filter-mapping>
		<filter-name>waterMarkFilter</filter-name>-->
	<!-- 只对ent_logo下的文件过滤 -->
	<!--<url-pattern>/res/uploadfile/ent_logo/*</url-pattern>
		</filter-mapping>
	-->
	<!-- UrlRewriteFilter -->
	<filter>
		<filter-name>UrlRewriteFilter</filter-name>
		<filter-class>org.tuckey.web.filters.urlrewrite.UrlRewriteFilter</filter-class>
		<init-param>
			<param-name>logLevel</param-name>
			<param-value>WARN</param-value>
		</init-param>
	</filter>
	<filter-mapping>
		<filter-name>UrlRewriteFilter</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>

	<!--*****************************DWR*********************************-->
	<servlet>
		<servlet-name>dwr</servlet-name>
		<servlet-class>org.directwebremoting.servlet.DwrServlet</servlet-class>
		<!--
			在这里再说明一下有的文章用的是uk.ltd.getahead.dwr.DWRServlet，其实他只是继承了一下org.directwebremoting.servlet.DwrServlet自己什么也没做，所以这两个类用哪个都行（这么做应该是为了兼容以前的版本，猜的，1.0我没用过）。
		-->
		<!-- 默认为false，调试用，可以访问http://地址:端口/上下文/dwr 来进行测试 -->
		<init-param>
			<param-name>debug</param-name>
			<param-value>false</param-value>
		</init-param>
		<!--这就是传说中的DWR反转调用的开关了，默认也是false -->
		<init-param>
			<param-name>activeReverseAjaxEnabled</param-name>
			<param-value>false</param-value>
		</init-param>
		<!--日志级别不多说了-->
		<init-param>
			<param-name>logLevel</param-name>
			<param-value>WARN</param-value>
		</init-param>
		<!--这块注意了，关键来了，把使用DWR注释的类都要加在这里，2.0的DWR好像还不支持包扫描，希望以后能提供这个功能，3.0我还没注意有没有这个功能，现在还没出正式版-->
		<!--
			<init-param>
			<param-name>classes</param-name>
			<param-value>org.relax.service.SectionManager, org.relax.service..entity.Section</param-value>
			</init-param>
		-->
	</servlet>
	<servlet-mapping>
		<servlet-name>dwr</servlet-name>
		<url-pattern>/dwr/*</url-pattern>
	</servlet-mapping>

	<!--****************************监听器 ******************************-->
	<!-- 在线用户监听器  监听用户正常退出与非正常退出 -->
	<listener>
		<listener-class>com.huanyuan.listener.OnlineUserListener</listener-class>
	</listener>

	<!--******************************普通配置*****************************-->
	<!--错误页面-->
	<error-page>
		<error-code>404</error-code>
		<location>/error.jsp?t=2010031701</location>
	</error-page>
	<error-page>
		<error-code>500</error-code>
		<location>/error.jsp?t=2010031702</location>
	</error-page>

	<!--默认页面-->
	<welcome-file-list>
		<welcome-file>index.jsp</welcome-file>
	</welcome-file-list>

	<!--session过期时间-->
	<session-config>
		<session-timeout>60</session-timeout>
	</session-config>
</web-app>